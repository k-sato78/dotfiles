# TCT190516daizyu

V8 - V9.1へVersionup


Bは社内LAN内
eはWEB系

MQ-IMS

クライアントコンもあるしサーバーコンもある

クライアントのバージョンはバラバラ

LU６．２接続が他LPAR接続である

メッセージ圧縮機能がある

b1e1b2e2
休日平日とものIPアドレスは引き継ぐ
ディスクのミラーリングで中身は全部引き継いでLPARを切り替えてる


可用性構成は撮ってなくて何かあれば再起動


クラスター、キュー共用、DB２接続なし


5.	質問内容
（１）	システムパラメーター（ZPARM）について
現行バージョン（V8.0）にて定義しているパラメーターを元に、V9.1.0 LTS移行時に想定されるパラメーターを添付資料「パラメーター（ZPARM）一覧」に記載しております。新規パラメーターや指定値の問題点・懸念事項等がありましたら、ご指摘願います。

V9ってかいてあるけどだいじょうぶ？

（２）	MQコンソールのリソースモニター（API使用統計）について
MQコンソールにて、APIの各機能の統計情報（成功数、失敗数など）を参照可能である認識です。
	当情報はMQコンソールでのみ出力可能でしょうか。
また、既存機能でも参照可能であれば、障害発生時の調査に活用したく参照方法をご教授願います。

DISPLAYではMQコンソールのみ
MQIの情報であれば、アカウンティング情報から参照可能です。
参照方法としてはサポートパックのMP1Bで参照可能です
SMFの量は増える
SMFACT(1,3)


zos版だとコンソールでも見れない
zosではMQI統計は
- osのフリーズの際、putされたメッセージが何件合ったのかをmqベースでexpiryしたメッセージが何件合ったかを知りたかった

（３）	z/OS　製品ID（PID）の記録に関する変更点について
V9.0.3より、プロダクトIDの以下オーバーライド方法が提供される認識です。

・START　QMGR　QMGPROD（XXX）　AMSPROD（XXX）
・MSTR起動プロシージャーのEXECステートメントにPARM指定
・ZPARM-新規マクロCSQ6USGPのパラメータ（QMGPROD、AMSPROD）

プロダクトIDの設定が必要となった背景および設定値につきまして、ご教授頂けないでしょうか。

MQ ADVANCE VUE AMS等のライセンスごとに使える機能が違うため、その判別に使います


お客様はMQのみをご使用のためデフォルトのブランクで良いです
QMGPROD  ブランク
AMSPROD ブランク

アドバンス　VUE MFT　それぞれで使える機能が違うため、その判別につかう

（４）	ZPARMモジュールおよびOPMODEの廃止について
現行はV8.0 NEWFUNCモードで稼働しています。
V9.1.0 LTSでは、V8.0ライブラリーを使用しアセンブル・リンクしたZPARMモジュールを継続利用可能でしょうか。
また、OPMODEが廃止となりますが、V91.0の逆方向マイグレーション（フォールバック）PTFが適用されていれば、V8.0へのフォールバックは可能でしょうか。

利用可能
FB可能


pageset RBAのメッセージがでる？
V9.1の

（５）	MQI呼び出しを行うアプリケーションプログラム（バッチ、IMS［BMP］用）について
過去数回バージョンアップを実施しておりますが、新バージョンへ移行する際に旧バージョンのスタブ・プログラムがリンク・エディットされたアプリケーションは、新バージョンのスタブ・プログラムをリンク・エディットせずに継続使用しております。
V9.1.0LTSでも、V8.0以前のバージョンのスタブ・プログラムがリンク・エディットされたアプリケーションプログラムは使用可能でしょうか。

yes


//そのままなら使えるけど、再連携編集時にはbinderじゃないとだめ


（６）	V9.0.0 LTSとV9.1.0LTSでの移行内容の相違点について
V8.0からV9.1 LTSへの移行に際し、SIL「IBM MQ for z/OS V9.0.0 LTS 移行ガイド」に記載される内容とは異なるアクションが必要な点がございましたらご教授願います。

また、V9.1.0LTS用の移行ガイドが公開されていたらご教授願います。

特になし
鋭意作成中

（７）	分散系MQとの互換性について
ホストMQバージョンアップ後	、分散系MQ（Windows：V7.0.1.3、AIX：V8.0.0.4）との接続、MQクライアント（V6.0.1.1、V7.1.0.7、V8.0.0.3、V9.0.0.3）との接続で考慮事項等ございましたら、ご教授ください。
なお、上位バージョンのMQで作成したCCDTは下位バージョンのMQクライアントで使用できない認識ですが、各MQクライアントにてCCDTは未使用のため問題無い想定です。


上位互換性を保っているため、接続は可能です。

しかし、サポートが終了しているMQクライアントとの接続で、MQクライアント側に問題が合った場合でも、FIXが出ないためその点はご了承ください


また、動作仕様が変更となるクラス／メソッドはありません。BaseJavaはスタビライズドになりました。
- v9,0でbasejavaは機能がfixになって機能追加なし



（８）	z/OSのストレージ使用量について
z/OSのストレージの使用方法や使用量について、V8.0とV9.1.0LTSで相違する点がございましたらご教授願います。

顕著な差異はありません。
お客様の環境で実際にお確かめください。

- 全部上に持ってってるからok

（９）	SMF統計情報収集について
zparm-smfacct=yes、smfstat=yesとした場合に収集（SMFへ出力）する統計情報および情報量について、V8.0とV9.1.0LTSで相違する点がございましたらご教授願います。
V9.0からpageset統計が追加されています。

情報量に関しては、
pagesetの数に依存します。

- V9のアップデート資料にかいてある


（１０）	他社導入実績について
V8.0以下のバージョンからV9.1.0LTSの他社導入（移行）実績をご教授頂けないでしょうか。

V701~が１軒進行中

（１１）	V9.1.0 LTSにて発生した障害について
V9.1.0 LTSにて発生した障害がございましたらご教授頂けないでしょうか。

大きな問題は聞いておりません。

PTFは出ていますので、最新のものを当ててご使用ください。


（１２）	その他考慮事項について
上記以外にV9.1.0 LTS移行において考慮事項等がございましたらご教授願います。


今までと特に変わるところなし

- 年末年始のサービスいｎ
-
-
## 管理RESTAPI
- 今後どういう方向で開発してくの？
	- openとの接続とか
	- コンテナとの親和性
	- セキュリティ

- クラスタがコンテナ向きなやつがあるらしい

		MFT

最初に
背景と環境の説明してもらう
その次具体的な検討　質問を



