# TCTSMBC190417


- 新区画で全部作ってからボリューム、カタログの付替えでやる
- フォールバックは現行システムを残しておいて対応
- やるのはその日だけ
- 財形のみDQM
- IMSブリッチと
- 分散のバージョンはわからない(V7.1がメインでv7.0が1/3くらい)
-
-
##
- V9のバージョン5+3のうち5(3)がおわってるからv9.1の方がよいのでは
- 和尚は今後v9.1サポートするの？
	- いま検証してると思う
-
-
-
## 質問
- 64に上がった事例とかある
	- 一社、レプリケーションで使っているところある
	- 9.1でdepになって、その後なくなる可能性があるからこのあとの以降で考える人が多いと思う
- LOGLOAD
	- v7.0-8.0での移行で500000変更した
	- 2.3分に一回は多い
	- activelogのスイッチでlogをとってるのかlogloadで取ってるのかSMFで確認するのがよい
	- その後対応
	-
- セキュリティ
	- チャネルAUTHをつかう
	- 今までつながっているところがつながる
	- つながらないところがつながらないというのをチェック
	- SILのリンク送るよ
	- 複雑だから確認してね
- MQ 和尚
	- v9.1はおそらくする
	- 詳しくは製品担当者にご連絡ください

## 注意事項
- userメッセージはすべてカラにした状態で移行
- 対外接続時はチャネルのリセットと
		```
		CICS
CICS Question
Q1. ICVRの指定について
ICVRの指定は業務的要件に依存するのでバージョンアップによる変更は特に不要です。
RUNAWAY=SYSTEMによるタイムアウトを使用している場合には、現行のタイムアウト発生状況からその値が適切かを判断してください。

Q2-3. MIMLIMIT=10GBについて
CICS TS V5.4では10GB以上が必須となります。
あくまでも上限値ですので、使用分のみが確保されます (1GB単位でのアロケートになります)。
トランザクション・レート等の業務稼働状況に依存するものとしては、以下の用途があります (CPSMやWeb, Java系など、未使用機能については割愛)
 - MAIN TSQ : SIT TSMAINLIMITで指定されたサイズが上限です。デフォルトの64MBが指定されていますので使用量は最大でも64MBまでとなります。
 - Channel & Container : 未使用とのことなので影響ありません
そのため、実メモリ使用量としては、基本的に現行バージョンの使用量と同等程度と考えてよいです。

Q4. CICSの今後の機能展開
大きな新機能としては、オープンとの連携、API化や、CICS内部でのJava/Web系アプリケーションの稼働サポートなど、先進技術をいち早く取り入れる傾向があります。
それ以外にも、以下のように先進機能を採用しなくてもメリットを享受できる機能拡張も継続的に行われています
 - CICSベース部分の内部処理改善によるパフォーマンス向上
 - DevOps対応、ポリシー機能によるCICS監視機能、など運用効率を向上させる機能拡張

Q5. SPURGE,TPURGE=YESについて
"To allow better recovery from failure and stall scenarios"とマニュアル上記載されています。
デフォルト設定で稼働している場合、システムにおいてタスクのハングなどの障害が発生した場合にデフォルトYESであれば対応可能となります。
システム整合性についても、PURGEであれば整合性を保障していますので問題ありません (FORCEPURGEやKILLは整合性は保障されませんが、SPURGE=NOでもFORCEPURGEは抑止できません)。

Q6. TASKDATALOC=BELOW->ANY以外の変更
TASKDATALOCと同様の変更として、PROGRAM定義 DATALOCATIONオプションのデフォルトもBELOW->ANYに変更されています。
24bitアプリケーションがなければANYで問題はありませんので、アプリケーションの31bit対応状況をご確認のうえANY採用可否をご検討ください。

Q7. DSA/EDSAサイズ見積りについて
情報系については現行のピーク使用量の余裕状況から現状維持の設定で問題なし、本社系については打鍵テスト時のSOS対応ということで、240MBへの増加で問題ないと思われます。
バージョンアップでCICS製品モジュールのサイズ増により、EDSAの使用量は数MB程度増加しますが、現行の使用状況から問題なしと判断できます。

Q8. DFHCNV CCSID/ DFHXCOPT LOCALCCSIDの指定について
それぞれ用途が異なるので必ずしも一致させる必要はありません。
CTGからのEXCI接続時のコード変換としては、データ受け渡し方法によって以下のような使い分けになります。
・COMMAREA : DFHCNVによるコード変換
・Channel & Container : PUT/GET CONTAINER APIでのコード変換. APIでコードページを明示指定していない場合にはDFHXCOPT LOCALCCSID=で指定したコードページが使用されます
Channel & Containerは使用していないとのことですので、DFHCNVの指定によってコード変換が行われます。
将来的に使用する可能性を考慮して、LOCALCCSID=930で統一しておいてよいと思います。

Other CICS Question
Q1.オープン・ベータ・オファリング
こちらで把握する限り、国内でのオープン・ベータへの参加はまだありません。
CICSライセンスは特に不要ですが、参加にはライセンス条件があります。詳しくは以下からご確認いただけます、
https://www.ibm.com/it-infrastructure/z/cics/trials
採用予定の新機能のテストや開発をいち早く始めたい、また、開発チームへのフィードバックにより自分たちの要望を取り入れてもらいたいといった目的で参加するケースが多いです。

その他
・パラメータについて
SITパラメータの設定については特に問題ありません。

・CICSバージョン選定について
現時点での最新バージョンはCICS TS V5.5になります。
OSや他MWの前提も満たしていますので、サポート期間の観点からは最新バージョンをお勧めいたします。

Other Question (Common)
Q1. PDF版/日本語版マニュアルの更新タイミング
CICS TS V5.4の英語版マニュアルについては、Knowledge Centerと同タイミングで更新と以下に明記されています。
https://www.ibm.com/support/knowledgecenter/en/SSGMCP_5.4.0/documentation/PDF.html
ただし日本語版についてはその限りではありません。

Q2. マニュアルの変更点
PDF版については'|'で変更箇所を参照可能です。
Knowledge Centerでも変更を示す(>| ... |<のような)記号はついていますが、検索はできません。

Q3. 自動化推進、省力化、運用効率化関連のお勧め機能
「ポリシー」
CICSのシステム監視機能で、あらかじめ設定した閾値の条件に基づいて、CICSシステムやタスクの状況を監視する機能です。
閾値を超えた場合、メッセージを出力させる、タスクをアベンドさせる、イベントを生成する、といった対応の自動化が可能です。
詳しくは、CICS TS V5.5 GA Workshop資料をご参照ください (CICS TS V5.5の資料ですが、V5.4 + PTFでほぼ同等の機能が使用できます)
以下のzipファイル内の「CICSTS55_04_基盤_20190208.pdf」3ページ～
https://ibm.box.com/s/uca0m49v6lse78bm4ymcj0gmo38ddvl0
「CICS Explorer」
EclipseベースのGUI システム管理ツールです
システムやリソースの状況参照(CEMT INQUIRE)や変更(CEMT SET)、資源定義の操作(CEDA)に相当するCICS管理をPC上のツールで行うことが可能です。
また、現在稼働中のシステムのSITパラメータの値(*)を確認できるといった、CEMT以上の便利な機能も提供されています。
* Source(SYSIN, SIT Tableなど、どこで指定された値が使用されているのか)、およびその値
CICSだけでなく、IBM Explorerと統合してz/OSのJOBやデータセットへのアクセスなど、z/OSシステムを管理することが可能です。
無償で使用できるツールです。詳細は以下のページをご参照ください。
https://www.ibm.com/jp-ja/marketplace/cics-explorer


		```
