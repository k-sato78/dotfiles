# SA


Q2;(右図のように)Javaが起動する場合、MQクライアントから送られるReplyToQ="Reply TO Q DFS"のままであると、Javaエラーなどのシステムメッセージが返されるのでしょうか？この場合はJava APがMQGETした時にMQMDの値を意識しなくてはならないものなのでしょうか？

Q3;理論的には"IMS Bridge Q"を普通のLOCAL QとしてUNIX (MQM=CSQX)に定義すればいいと思います（当然トリガー機能利用時は応じた定義追加)し、"Reply To Q Appl"もLOCALキュー定義すればいいと思いますが考慮事項などありますでしょうか？(右図のように)

Q4;(右図の)Java MQ ApplでMQGETすれば MQIIH+LLZ+TRAN+DATAという形で読み込まれるという理解でいいでしょうか？もしもそうならば先頭からそれだけのバイト数を省いてデータ部のみを処理すれば可能かと考えてます。

Q5;(右図で)UNIXもMQクライアントもSJIS環境の場合、LLZZ+TRANのTRAN名はEBCDICでMQクライアントでセットされていますので、無変換で取り出すとTRAN名はEBCDICのままなのでUNIXでTRAN CODEを識別したいならば簡単にはできないと思いますが正しいでしょうか？


Q2

いいえ、返されません。
ReplyToQにDFSメッセージが送られるのはIMS、IMSブリッチの機能ですので、IMS,IMSブリッチと同等の機能をJavaアプリで実装する必要があります。


Q3

キュー定義に関しては、考慮事項は思い当たりません。

その他考慮事項としては、クライアントを書き換えないのであれば、IMS，IMSブリッチが担っていた機能、例えばトランザクションの中でエラーを検知し、メッセージを作成し、キューにPUTするという機能、をJavaで実装する必要があるという点です。


Q4

はい、そうです。

Q5
PUTされたメッセージのデータ部がEBCDICであるのならば、無変換で取り出すと、BINARYとEBCDICの混在したメッセージがGETされます。
必要に応じて、該当箇所の文字コード変換をJavaで行う必要があると思われます。



